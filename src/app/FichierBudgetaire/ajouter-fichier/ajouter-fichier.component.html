<!-- Button pour ouvrir le Modal -->
 <div class="ajouter-fichier">
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#ajouterFichierModal">
  Ajouter un Fichier
</button>

<!-- Modal -->
<div class="modal fade" id="ajouterFichierModal" tabindex="-1" aria-labelledby="ajouterFichierModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form (ngSubmit)="onSubmit()" enctype="multipart/form-data">
        <div class="modal-header">
          <h5 class="modal-title" id="ajouterFichierModalLabel">Ajouter un Fichier Budgetaire</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>

        <div class="modal-body">
          <!-- Nom du fichier -->
          <div class="mb-3">
            <label for="nomfichier" class="form-label">Nom du fichier</label>
            <input type="text" class="form-control" id="nomfichier" name="nomfichier" [(ngModel)]="fichier.nomfichier" required>
          </div>

          <!-- Date de r√©ception -->
          <div class="mb-3">
            <label for="dateReception" class="form-label">Date de r√©ception</label>
            <input type="date" class="form-control" id="dateReception" name="dateReception" [(ngModel)]="fichier.dateReception" required>
          </div>

          <!-- Traiter (checkbox) -->
          <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" id="traiter" name="traiter" [(ngModel)]="fichier.traiter">
            <label class="form-check-label" for="traiter">
              Trait√©
            </label>
          </div>

          <!-- S√©lectionner le fichier -->
          <div class="mb-3">
            <label for="file" class="form-label">Fichier</label>
            <input class="form-control" type="file" id="file" (change)="onFileSelected($event)" required>
          </div>

          <!-- BoxId -->
          <div class="mb-3">
            <label for="boxId" class="form-label">Box</label>
            <ng-select
              id="boxId"
              class="form-control"
              [items]="boxes"
              bindLabel="nom"      
              bindValue="id"        
              [(ngModel)]="fichier.boxId"
              name="boxId"
              placeholder="S√©lectionnez une Box"
              required
              #boxId="ngModel">
              
              <ng-template let-item="item">
                <div class="custom-item">
                  <span class="item-label">{{ item.nom }}</span> <!-- üî• afficher le nom du box -->
                </div>
              </ng-template>
            </ng-select>
          </div>
          
        </div>

        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Enregistrer</button>
        </div>
      </form>
    </div>
  </div>
</div>
</div>